<!DOCTYPE html>
<html>
  <head>
    <title>Wetter API</title>
    <script>

      function drawWeatherDataKleve(){
        fetch('https://api.openweathermap.org/data/2.5/weather?id=2887835&APPID=f96302827efdef591ae3f1d46495ebaa&units=metric', {
            method: 'GET',
            })

            .then(response => response.json())
            .then(response => {

              console.log('success kleve:', response);

              let temp = response.main.temp;
              let str = "Temperatur Kleve: " + Math.floor(temp) + "°C";
              document.getElementById("tempkleve").innerHTML = str;

            });
      }

      function drawWeatherData() {

        let postcode = document.forms["postcodeform"]["postcode"].value;
        let url = "https://api.openweathermap.org/data/2.5/weather?zip=" + postcode + ",de&APPID=f96302827efdef591ae3f1d46495ebaa&units=metric";


        fetch(url, {
            method: 'GET',
            })
            .then(response => response.json())
            .then(response => {

              console.log('success2:', response);

              let temp = response.main.temp;

              let str = "Temperatur " + response.name + ": " + Math.floor(temp) + "°C";
              document.getElementById("tempcustom").innerHTML = str;

            });

      }

      drawWeatherDataKleve();

    </script>
  </head>
  <body>
    <p id="tempkleve"></p>
    <p id="tempcustom">platzhalter</p>
    <form id="postcodeform" name="postcodeform" type="POST">
      <label for="postcode">Postleizahl:</label>
      <input type="text" id="postcode" value="20095"></input>
      <input type="button" onClick="drawWeatherData();" value="Go!"></input>
    </form>
    </form>
  </body>
</html>
